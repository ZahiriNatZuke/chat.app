<div class="container p-4">

    <div class="row rounded-lg overflow-hidden shadow">
        <!-- Users box-->
        <div class="col-5 px-0">
            <div class="bg-white">

                <div class="bg-gray px-4 py-2 bg-light d-flex justify-content-between">
                    <p class="h5 mb-0 py-1">{{ authUser.name }}</p>
                    <button mat-icon-button (click)="logout()">
                        <mat-icon>exit_to_app</mat-icon>
                    </button>
                </div>

                <div class="messages-box">
                    <app-users-list (userSelected)="catchUserSelected($event)"></app-users-list>
                </div>
            </div>
        </div>
        <!-- Chat Box-->
        <div class="col-7 px-0">

            <div #chatBox class="px-4 py-5 chat-box bg-white">
                <app-chat-box (optionSelected)="catchOptionSelected($event)"></app-chat-box>
                <div *ngIf="referenceMessage"
                    class="d-flex justify-content-between bg-light-50 text-muted w-100 p-2 reference-msg">
                    <small class="flex-grow-1 overflow-hidden">
                        {{ referenceMessage.message | referenceLimiter }}
                    </small>
                    <button mat-icon-button id="close-btn" (click)="closeReference()">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>
            </div>

            <!-- Typing area -->
            <div class="bg-light">
                <form class="form" (ngSubmit)="sendMessage()" [formGroup]="inputMessage">
                    <mat-form-field class="full-width px-2">
                        <mat-label>Message</mat-label>
                        <input matInput formControlName="message" (keyup.enter)="sendMessage()" />
                    </mat-form-field>
                    <div class="send-button pr-2">
                        <button mat-icon-button type="submit" class="btn-link" (click)="sendMessage()">
                            <mat-icon>send</mat-icon>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>